# =============================================================================
# Bot de Telegram - Control de Portones (solo UI, backend HTTP)
# =============================================================================
# Copiar a .env y reemplazar los placeholders.
#   cp .env.example .env
# =============================================================================

# -----------------------------------------------------------------------------
# Telegram Bot (obligatorio)
# -----------------------------------------------------------------------------
BOT_TOKEN=<tu_token_de_telegram>

# -----------------------------------------------------------------------------
# Servidor HTTP
# -----------------------------------------------------------------------------
PORT=3000

# -----------------------------------------------------------------------------
# Webhook (producción)
# -----------------------------------------------------------------------------
# Uno de los dos: Railway inyecta RAILWAY_PUBLIC_DOMAIN; sino usar PUBLIC_DOMAIN
RAILWAY_PUBLIC_DOMAIN=<tu-app.railway.app>
PUBLIC_DOMAIN=

# Secret para validar POST al webhook (x-telegram-bot-api-secret-token). Recomendado en prod.
WEBHOOK_SECRET=

# -----------------------------------------------------------------------------
# Backend (obligatorio)
# -----------------------------------------------------------------------------
# URL base del backend (Controlador Central). Sin barra final.
BACKEND_BASE_URL=https://controlador-central-portones-production.up.railway.app

# API key para el backend (header X-API-Key). Opcional.
BACKEND_API_KEY=

# ---------------------------------------------------------------------------
# Autenticación Telegram -> JWT (obligatorio para /abrir)
# ---------------------------------------------------------------------------
# Mapa JSON: telegram_user_id -> JWT del usuario del backend.
# Ejemplo: {"111111111":"<jwt_superadmin>","222222222":"<jwt_operador>"}
TELEGRAM_USER_JWT_MAP={}

# JWT por defecto (fallback). Opcional; se usa si el id no existe en TELEGRAM_USER_JWT_MAP.
TELEGRAM_DEFAULT_JWT=
